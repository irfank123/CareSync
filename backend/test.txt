
> backend@1.0.0 test
> jest --coverage --testTimeout=30000

-----------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                
-----------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                    |   72.26 |     65.5 |   76.39 |   72.55 |                                                                                                                                                                                                                                                  
 controllers                 |   91.73 |    84.49 |   96.66 |   91.83 |                                                                                                                                                                                                                                                  
  adminController.mjs        |   96.15 |    82.92 |    87.5 |    96.1 | 302-305                                                                                                                                                                                                                                          
  appointmentController.mjs  |   85.62 |    78.22 |   94.11 |   86.18 | 87-116,134,186,249-251,274,342-343,356,376,524-525,580-581,626,654-655,740-746,789,829,838,875-877                                                                                                                                               
  assessmentController.mjs   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  authController.mjs         |   94.69 |    86.04 |     100 |   94.69 | 49,80-81,125,189-191                                                                                                                                                                                                                             
  availabilityController.mjs |   82.68 |    75.24 |   83.33 |   82.68 | 19,66,80,101,130-131,156-159,226-229,239,263,285,316-322,327,371-372,405,427-428,460-466,471,516-522,527,564,578                                                                                                                                 
  clinicAuthController.mjs   |   93.03 |    78.08 |     100 |   93.03 | 35,82,301-321,357                                                                                                                                                                                                                                
  clinicController.mjs       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  doctorController.mjs       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  googleAuthController.mjs   |   83.59 |     71.6 |     100 |    83.2 | 25,67-69,152,158-162,167-171,178-195                                                                                                                                                                                                             
  index.mjs                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                  
  patientController.mjs      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  prescriptionController.mjs |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  staffController.mjs        |     100 |     98.8 |     100 |     100 | 141                                                                                                                                                                                                                                              
  userController.mjs         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
 controllers/base            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  baseController.mjs         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
 middleware                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                  
  index.mjs                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                  
 middleware/audit            |   81.81 |    68.88 |   66.66 |   81.81 |                                                                                                                                                                                                                                                  
  auditMiddleware.mjs        |   81.81 |    68.88 |   66.66 |   81.81 | 54-55,96,108-109,113-114,153,193,238,249-250,254-255                                                                                                                                                                                             
 middleware/auth             |   95.16 |    96.32 |   94.11 |   95.13 |                                                                                                                                                                                                                                                  
  authMiddleware.mjs         |   95.16 |    96.32 |   94.11 |   95.13 | 393-400,430-431,547-549,590                                                                                                                                                                                                                      
 middleware/cache            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  cacheMiddleware.mjs        |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
 middleware/data             |   93.75 |    87.83 |     100 |   93.54 |                                                                                                                                                                                                                                                  
  dataMiddleware.mjs         |   93.75 |    87.83 |     100 |   93.54 | 156-158,208,212,223,237                                                                                                                                                                                                                          
 middleware/error            |     100 |    91.66 |     100 |     100 |                                                                                                                                                                                                                                                  
  errorMiddleware.mjs        |     100 |    91.66 |     100 |     100 | 101,131-140                                                                                                                                                                                                                                      
 middleware/permission       |   98.61 |    98.21 |     100 |   98.61 |                                                                                                                                                                                                                                                  
  permissionMiddleware.mjs   |   98.61 |    98.21 |     100 |   98.61 | 222                                                                                                                                                                                                                                              
 middleware/rateLimit        |   84.84 |       92 |      60 |   84.84 |                                                                                                                                                                                                                                                  
  rateLimitMiddleware.mjs    |   84.84 |       92 |      60 |   84.84 | 41,47,119,134,192                                                                                                                                                                                                                                
 middleware/validation       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  validationMiddleware.mjs   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
 models                      |   40.35 |        0 |       0 |   41.31 |                                                                                                                                                                                                                                                  
  Appointment.mjs            |   14.81 |        0 |       0 |   14.81 | 111-149,161-162                                                                                                                                                                                                                                  
  Assessment.mjs             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  AuditLog.mjs               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  Clinic.mjs                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  Consultation.mjs           |   42.85 |        0 |       0 |   42.85 | 84-88                                                                                                                                                                                                                                            
  Doctor.mjs                 |   41.66 |        0 |       0 |      50 | 83-85,110-111                                                                                                                                                                                                                                    
  Notification.mjs           |   71.42 |      100 |       0 |   71.42 | 83-84                                                                                                                                                                                                                                            
  Patient.mjs                |   66.66 |      100 |       0 |   66.66 | 77-78                                                                                                                                                                                                                                            
  Prescription.mjs           |   27.27 |        0 |       0 |   27.27 | 84-97                                                                                                                                                                                                                                            
  Staff.mjs                  |      60 |      100 |       0 |      60 | 38-39                                                                                                                                                                                                                                            
  SystemSettings.mjs         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  TimeSlot.mjs               |   30.76 |        0 |       0 |   36.36 | 44-46,58-63                                                                                                                                                                                                                                      
  User.mjs                   |   26.78 |        0 |       0 |   26.78 | 27,174,182-197,208-211,218-229,235-246,251-257,263-271,276-278,283,289-300,305-307,312-314                                                                                                                                                       
  index.mjs                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  prescriptionModel.mjs      |       0 |        0 |       0 |       0 | 3-85                                                                                                                                                                                                                                             
 routes                      |   76.48 |    65.95 |   88.23 |    76.9 |                                                                                                                                                                                                                                                  
  adminRoutes.mjs            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  appointmentRoutes.mjs      |   16.66 |        0 |       0 |   17.24 | 101-228                                                                                                                                                                                                                                          
  assessmentRoutes.mjs       |       0 |        0 |       0 |       0 | 6-72                                                                                                                                                                                                                                             
  authRoutes.mjs             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  availabilityRoutes.mjs     |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  clinicAuthRoutes.mjs       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  clinicRoutes.mjs           |       0 |      100 |     100 |       0 | 7-13                                                                                                                                                                                                                                             
  doctorRoutes.mjs           |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  googleAuthRoutes.mjs       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  googleRoutes.mjs           |   91.66 |       90 |     100 |   91.66 | 15,25-26                                                                                                                                                                                                                                         
  health.mjs                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  index.mjs                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  patientRoutes.mjs          |     100 |     87.5 |     100 |     100 | 91                                                                                                                                                                                                                                               
  prescriptionRoutes.mjs     |   85.71 |       75 |     100 |   85.71 | 57-61                                                                                                                                                                                                                                            
  staffRoutes.mjs            |       0 |      100 |     100 |       0 | 21-55                                                                                                                                                                                                                                            
  testRoutes.mjs             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  userRoutes.mjs             |       0 |      100 |     100 |       0 | 21-63                                                                                                                                                                                                                                            
 services                    |   52.07 |    41.14 |      60 |    52.4 |                                                                                                                                                                                                                                                  
  aiService.mjs              |   63.58 |    52.94 |    61.9 |   63.85 | 34-35,72,79-81,159,190-192,252-258,269,284-286,302,307,334-335,344-379,383,397-436,454,497,552-553,566-650                                                                                                                                       
  appointmentService.mjs     |    45.9 |    48.31 |   51.72 |   46.11 | 30,33,79,84,89-99,106-110,116-123,128,203,215,286-287,380-382,398-399,406,423,450-451,469,479,490,493,534,551-563,570-574,589-597,611-810,828,838,845-846,860-866,873-895,944-946,966,999-1001,1013-1292,1332-1333,1341-1349,1356-1373,1416-1590 
  assessmentService.mjs      |   93.33 |    72.72 |     100 |   93.24 | 29,67-68,252-253                                                                                                                                                                                                                                 
  authService.mjs            |   81.48 |    50.94 |      90 |   82.24 | 60,99-127,147,206,222-225,235,271                                                                                                                                                                                                                
  availabilityService.mjs    |   62.55 |    48.93 |   74.19 |   62.16 | 80-81,113-114,143-147,160-161,294,389,555,580-604,623-633,650-794,812,818,846-924,974-976,1066-1274,1425-1473                                                                                                                                    
  clinicAuth0Service.mjs     |   91.07 |       80 |   88.88 |   91.89 | 42-44,106-113,135,169,187,289                                                                                                                                                                                                                    
  clinicAuthService.mjs      |    99.2 |       80 |     100 |    99.2 | 126                                                                                                                                                                                                                                              
  clinicService.mjs          |     100 |       90 |     100 |     100 | 53                                                                                                                                                                                                                                               
  devMeetLinkGenerator.mjs   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  doctorService.mjs          |       0 |        0 |       0 |       0 | 14-351                                                                                                                                                                                                                                           
  emailService.mjs           |     100 |    96.96 |     100 |     100 | 175                                                                                                                                                                                                                                              
  googleCalendarService.mjs  |       0 |        0 |       0 |       0 | 9-515                                                                                                                                                                                                                                            
  googleService.mjs          |       0 |        0 |       0 |       0 | 8-325                                                                                                                                                                                                                                            
  index.mjs                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                  
  patientService.mjs         |   63.36 |    62.12 |   66.66 |   64.64 | 56-78,107,112,117-128,134,139,147,202-203,219,237,242,283-284,306,346-347                                                                                                                                                                        
  prescriptionService.mjs    |       0 |        0 |       0 |       0 | 6-294                                                                                                                                                                                                                                            
  staffService.mjs           |       0 |        0 |       0 |       0 | 16-485                                                                                                                                                                                                                                           
  tokenBlacklistService.mjs  |     100 |     87.5 |     100 |     100 | 52                                                                                                                                                                                                                                               
  userService.mjs            |    56.2 |    40.19 |   76.92 |   57.14 | 48,53,58,114,136-146,202-213,260,284-289,311,317-320,344-345,380,399-410,425-476                                                                                                                                                                 
 services/base               |   95.87 |    91.22 |     100 |   95.69 |                                                                                                                                                                                                                                                  
  baseService.mjs            |   95.87 |    91.22 |     100 |   95.69 | 115,181,219,326                                                                                                                                                                                                                                  
 utils                       |   97.96 |    91.66 |   94.28 |   97.91 |                                                                                                                                                                                                                                                  
  apiResponse.mjs            |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  catchAsync.mjs             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  controllerHelper.mjs       |     100 |       75 |     100 |     100 | 11,43                                                                                                                                                                                                                                            
  encryption.mjs             |   94.73 |      100 |     100 |   94.44 | 40-41                                                                                                                                                                                                                                            
  errorHandler.mjs           |   96.29 |    85.71 |   83.33 |   96.22 | 172-173                                                                                                                                                                                                                                          
  serviceContainer.mjs       |     100 |    96.15 |     100 |     100 | 81                                                                                                                                                                                                                                               
  serviceInitializer.mjs     |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  validation.mjs             |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
 utils/di                    |    93.5 |    89.28 |   88.88 |   93.33 |                                                                                                                                                                                                                                                  
  container.mjs              |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                  
  serviceProviders.mjs       |    87.5 |     62.5 |      75 |    87.5 | 35,48-49,89,105                                                                                                                                                                                                                                  
-----------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
